p8105\_hw3\_smm2350
================
Shaina Mackin
2021-10-20

# Homework 3

To begin, I will load the tidyverse and instacart data, as well as set
knitr options.

## Problem 1

### data exploration

I will write a short description of the dataset, noting the size and
structure of the data, describing key variables, and giving illustrative
examples of observations:

The instacart dataset contains online grocery shopping data from 2017,
with 1384617 observations, or products from orders, and 15 variables,
for a total of 20769255 data points. Key variables include `order_id`,
`product_id`, `user_id`, whether items were `reordered`,
`order_hour_of_day` and `days_since_prior_order` (ranging from 0 to 30
), as well as `product_name` and associated `aisle` and `department`.

``` r
instacart %>%
  group_by(aisle_id, aisle) %>%
  summarize(n_obs = n()) %>%
  arrange(desc(n_obs)) 
```

    ## `summarise()` has grouped output by 'aisle_id'. You can override using the `.groups` argument.

    ## # A tibble: 134 × 3
    ## # Groups:   aisle_id [134]
    ##    aisle_id aisle                          n_obs
    ##       <int> <chr>                          <int>
    ##  1       83 fresh vegetables              150609
    ##  2       24 fresh fruits                  150473
    ##  3      123 packaged vegetables fruits     78493
    ##  4      120 yogurt                         55240
    ##  5       21 packaged cheese                41699
    ##  6      115 water seltzer sparkling water  36617
    ##  7       84 milk                           32644
    ##  8      107 chips pretzels                 31269
    ##  9       91 soy lactosefree                26240
    ## 10      112 bread                          23635
    ## # … with 124 more rows

There are 134 aisles. The aisles with the most ordered from items are
`fresh vegetables` and `fresh fruits`, followed by
`packaged vegetables fruits`.

To illustrate this, I will make a plot that shows the number of items
ordered in each aisle, limiting this to aisles with more than 10000
items ordered.

``` r
instacart %>%
  count(aisle) %>%
  filter(n > 10000) %>%
  ggplot(aes(forcats::fct_reorder(aisle, (n)), n)) +
  geom_col() +
  coord_flip() +
  labs(
    title = "Number of items ordered per aisle",
    x = "Aisle name",
    y = "Number of items",
    caption = "note: limited to aisles with more than 10,000 items ordered"
  )
```

<img src="p8105_hw3_smm2350_files/figure-gfm/aisles_plot-1.png" width="90%" />

I will make a table showing the three most popular items in the
`baking ingredients`, `dog food care`, an d`packaged vegetables fruits`
aisles.

``` r
instacart %>%
  filter(aisle == "baking ingredients" | aisle == "dog food care" | aisle == "packaged vegetables fruits") %>%
 count(aisle, product_name) %>%
  arrange(desc(n)) %>%
  group_by(aisle) %>%
  slice(1:3) %>%
  arrange(desc(n))
```

    ## # A tibble: 9 × 3
    ## # Groups:   aisle [3]
    ##   aisle                      product_name                                      n
    ##   <chr>                      <chr>                                         <int>
    ## 1 packaged vegetables fruits Organic Baby Spinach                           9784
    ## 2 packaged vegetables fruits Organic Raspberries                            5546
    ## 3 packaged vegetables fruits Organic Blueberries                            4966
    ## 4 baking ingredients         Light Brown Sugar                               499
    ## 5 baking ingredients         Pure Baking Soda                                387
    ## 6 baking ingredients         Cane Sugar                                      336
    ## 7 dog food care              Snack Sticks Chicken & Rice Recipe Dog Treats    30
    ## 8 dog food care              Organix Chicken & Brown Rice Recipe              28
    ## 9 dog food care              Small Dog Biscuits                               26
